---
title: 主流浏览器的兼容问题汇总
date: 2021/2/25
tags: [浏览器]
categories: Javascript
---

## 主流浏览器的兼容问题汇总

作者：白小明
链接：https://juejin.cn/post/6844903493161975822

来源：掘金

著作权归作者所有。

---

目录

- <a href="#1">Normalize.css</a>
- <a href="#2">html5shiv.js</a>
- <a href="#3">respond.js</a>
- <a href="#4">picturefill.js</a>
- <a href="#5">IE 条件注释</a>
- <a href="#6">IE 属性过滤器（较为常用的 hack 方法）</a>
- <a href="#7">浏览器 CSS 兼容前缀</a>
- <a href="#8">a 标签的几种 CSS 状态的顺序</a>
- <a href="#9">完美解决 Placeholder</a>
- <a href="#10">清除浮动 最佳实践</a>
- <a href="#11">BFC 解决边距重叠问题</a>
- <a href="#12">IE6 双倍边距的问题</a>
- <a href="#13">解决 IE9 以下浏览器不能使用 opacity</a>
- <a href="#14">解决 IE6 不支持 fixed 绝对定位以及 IE6 下被绝对定位的元素在滚动的时候会闪动的问题 </a>
- <a href="#15">IE6 背景闪烁的问题</a>
- <a href="#16">解决在 IE6 下，列表与日期错位的问题</a>
- <a href="#17">解决 IE6 不支持 min-height 属性的问题</a>
- <a href="#18">让 IE7 IE8 支持 CSS3 background-size 属性</a>
- <a href="#19">IE6-7 line-height 失效的问题</a>
- <a href="#20">td 自动换行的问题</a>
- <a href="#21">JQurey 版本支持问题</a>

### <b style="color:#4bacc6" id="1">1.Normalize.css</b>

- 不同的浏览器的默认样式是不同的，可以引用 Normalize.css 来抹平这些不同，也可以定制属于自己业务的 reset.css
- 简单粗暴：`*{margin:0;padding:0;}`

### <b style="color:#4bacc6" id="2">2.html5shiv.js</b>

- 解决 ie9 以下浏览器对 html5 新增标签不识别的问题。

```html
<!--[if lt IE 9]>
  <script
    type="text/javascript"
    src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"
  ></script>
<![endif]-->
```

### <b style="color:#4bacc6" id="3">3.respond.js</b>

- 解决 `ie9` 以下浏览器不支持 `CSS3 Media` Query 的问题。
- `<script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>`

### <b style="color:#4bacc6" id="4">4.picturefill.js</b>

- 解决 `IE 9 10 11` 等浏览器不支持 `<picture>` 标签的问题
- `<script src="https://cdn.bootcss.com/picturefill/3.0.3/picturefill.min.js"></script>`

### <b style="color:#4bacc6" id="5">5. ie 条件注释</b>

- IE 的条件注释仅仅针对 IE 浏览器，对其他浏览器无效

  | 操作符 | 含义     |
  | ------ | -------- |
  | lt     | 小于     |
  | gt     | 大于     |
  | lte    | 小于等于 |
  | gte    | 大于等于 |
  | !      | 不等于   |

### <b style="color:#4bacc6" id="6">6. IE 属性过滤器（较为常用的 hack 方法）</b>

- 针对不同的 IE 浏览器，可以使用不同的字符来对特定的版本的 IE 浏览器进行样式控制

  | 字符 | 例子         | 说明                     |
  | ---- | ------------ | ------------------------ |
  | \_   | \_color:red; | 只有 IE6 可以识别        |
  | \*   | \*color:red; | IE6/7 可以识别           |
  | \9   | color:red\9; | IE8 及以下浏览器可以识别 |

### <b style="color:#4bacc6" id="7">7.浏览器 CSS 兼容前缀</b>

```css
-o-transform: rotate(7deg); // Opera

-ms-transform: rotate(7deg); // IE

-moz-transform: rotate(7deg); // Firefox

-webkit-transform: rotate(7deg); // Chrome

transform: rotate(7deg); // 统一标识语句
```

### <b style="color:#4bacc6" id="8">8.a 标签的几种 CSS 状态的顺序</b>

- 很多新人在写 a 标签的样式，会疑惑为什么写的样式没有效果，或者点击超链接后，hover、active 样式没有效果，其实只是写的样式被覆盖了。

- 正确的 a 标签顺序应该是：lvha
  - link:平常的状态
  - visited:被访问过之后
  - hover:鼠标放到链接上的时候
  - active:链接被按下的时候

### <b style="color:#4bacc6" id="9">9.完美解决 Placeholder</b>

```html
<input
  type="text"
  value="Name *"
  onFocus="this.value = '';"
  onBlur="if (this.value == '') {this.value = 'Name *';}"
/>
```

### <b style="color:#4bacc6" id="10">10.清除浮动 最佳实践</b>

```css
.fl {
  float: left;
}
.fr {
  float: right;
}
.clearfix:after {
  display: block;
  clear: both;
  content: "";
  visibility: hidden;
  height: 0;
}
.clearfix {
  zoom: 1;
}
```

### <b style="color:#4bacc6" id="11">11.BFC 解决边距重叠问题</b>

- 当相邻元素都设置了 margin 边距时，margin 将取最大值，舍弃小值。为了不让边距重叠，可以给子元素加一个父元素，并设置该父元素为 BFC：overflow: hidden;

```html
<div class="box" id="box">
  <p>Lorem ipsum dolor sit.</p>

  <div style="overflow: hidden;">
    <p>Lorem ipsum dolor sit.</p>
  </div>

  <p>Lorem ipsum dolor sit.</p>
</div>
```

### <b style="color:#4bacc6" id="12">12.IE6 双倍边距的问题</b>

- 设置 ie6 中设置浮动，同时又设置 margin，会出现双倍边距的问题
  `display:inline;`

### <b style="color:#4bacc6" id="13">13.解决 IE9 以下浏览器不能使用 opacity</b>

```css
xxx {
  opacity: 0.5;
  filter: alpha(opacity = 50);
  filter: progid:DXImageTransform.Microsoft.Alpha(style = 0, opacity = 50);
}
```

### <b style="color:#4bacc6" id="14">14.解决 IE6 不支持 fixed 绝对定位以及 IE6 下被绝对定位的元素在滚动的时候会闪动的问题 </b>

```css
/* IE6 hack */
*html,
*html body {
  background-image: url(about:blank);
  background-attachment: fixed;
}
*html #menu {
  position: absolute;
  top: expression(
    ((e=document.documentElement.scrollTop) ? e: document.body.scrollTop) + 100 +
      "px"
  );
}
```

### <b style="color:#4bacc6" id="15">15：IE6 背景闪烁的问题</b>

- 问题：链接、按钮用 CSSsprites 作为背景，在 ie6 下会有背景图闪烁的现象。原因是 IE6 没有将背景图缓存，每次触发 hover 的时候都会重新加载

- 解决：可以用 JavaScript 设置 ie6 缓存这些图片：

```js
document.execCommand("BackgroundImageCache", false, true)
```

### <b style="color:#4bacc6" id="16">16：解决在 IE6 下，列表与日期错位的问题</b>

- 日期`<span>` 标签放在标题 `<a>` 标签之前即可

### <b style="color:#4bacc6" id="17">17：解决 IE6 不支持 min-height 属性的问题</b>

```css
min-height: 350px;
_height: 350px;
```

### <b style="color:#4bacc6" id="18">18：让 IE7 IE8 支持 CSS3 background-size 属性</b>

- 由于 background-size 是 CSS3 新增的属性，所以 IE 低版本自然就不支持了，但是老外写了一个 htc 文件，名叫 background-size polyfill，使用该文件能够让 IE7、IE8 支持 background-size 属性。其原理是创建一个 img 元素插入到容器中，并重新计算宽度、高度、left、top 等值，模拟 background-size 的效果。

```css
html {
  height: 100%;
}
body {
  height: 100%;
  margin: 0;
  padding: 0;
  background-image: url("img/37.png");
  background-repeat: no-repeat;
  background-size: cover;
  -ms-behavior: url("css/backgroundsize.min.htc");
  behavior: url("css/backgroundsize.min.htc");
}
```

### <b style="color:#4bacc6" id="19">19：IE6-7 line-height 失效的问题</b>

- 问题：在 ie 中 img 与文字放一起时，line-height 不起作用

- 解决：都设置成 float

### <b style="color:#4bacc6" id="20">20：td 自动换行的问题</b>

- 问题：table 宽度固定，td 自动换行

- 解决：设置 Table 为 table-layout: fixed，td 为 word-wrap: break-word

### <b style="color:#4bacc6" id="21" id="21">JQurey 版本支持问题</b>

- <b style="color:#4bacc6">jQuery 2 版本以上是不支持 IE6，7，8 浏览器</b>
- 使用的是 IE6，7，8 浏览器的话，你就得选择使用 jQuery1.9 版本的，或者，你也可以通过条件注释在使用 IE6，7，8 浏览器的时候只允许包含 jQuery 1.9.

```html
<!-- 条件注释 -->

<!--[if lte IE 8]>
  IE8以及IE8以下版本可识别
  <script src="jquery-1.9.0.js"></script>
<![endif]-->
<!--[if gte IE 9]>
  IE9以及IE9以上版本可识别
  <script src="jquery-2.0.0.js"></script>
<![endif]-->
```
